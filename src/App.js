import React from "react";
import "./styles.css";
import {
  Avatar,
  Stack,
  AspectRatio,
  Box,
  Flex,
  Text,
  Input,
  Button
} from "@chakra-ui/core";
import { toJpeg } from "html-to-image";

export default function App() {
  const ref = React.useRef(null);
  const [lines, setLines] = React.useState([
    "How I got into the indie-hacking",
    "world"
  ]);

  const dotSpace = "5vw";
  const dotSize = "0.20vw";

  return (
    <Stack spacing={8} align="center" p={8} w="100vw">
      <AspectRatio maxW="1200px" ratio={1200 / 630} w="100%" ref={ref}>
        <Box
          // bg="#313131"
          style={{
            background: `linear-gradient(90deg, #161122 calc(${dotSpace} - ${dotSize}), transparent 1%) center, linear-gradient(#161122 calc(${dotSpace} - ${dotSize}), transparent 1%) center, rgba(245, 245, 245, 0.5)`,
            backgroundSize: `${dotSpace} ${dotSpace}`
          }}
        >
          <Stack spacing={"4vw"} align="center">
            <Logo width="8vw" height="8vw" />
            <Stack spacing={"2vw"} shouldWrapChildren align="center">
              {lines.map((line) => (
                <Text
                  fontSize="4vw"
                  textAlign="center"
                  fontWeight="bold"
                  fontFamily="'DM Sans', sans-serif"
                  color="#313131"
                  bg="white"
                  px={"1.25vw"}
                  py={"1.25vw"}
                  lineHeight="none"
                  display="inline-block"
                  clear="both"
                  float="left"
                  textTransform="capitalize"
                >
                  {line}
                </Text>
              ))}
            </Stack>
            <Stack spacing={"2vw"} isInline align="center">
              <Avatar
                src={profileImage}
                p="0.8vw"
                w="8vw"
                h="8vw"
                bg="rgba(255,255,255,0.5)"
              />
              <Stack spacing={"1.5vw"}>
                <Text
                  fontSize="2.5vw"
                  textAlign="left"
                  fontWeight="bold"
                  fontFamily="'DM Sans', sans-serif"
                  color="white"
                  lineHeight="none"
                >
                  Jim Raptis
                </Text>
                <Text
                  fontSize="2vw"
                  textAlign="left"
                  fontWeight="normal"
                  fontFamily="'DM Sans', sans-serif"
                  color="white"
                  lineHeight="none"
                >
                  Designer, React engineer and Indie-hacker
                </Text>
              </Stack>
            </Stack>
          </Stack>
        </Box>
      </AspectRatio>

      <Button
        onClick={() => {
          console.log(ref.current);

          toJpeg(ref.current, { quality: 0.95 })
            .then(function (dataUrl) {
              var link = document.createElement("a");
              link.download = "og-image.jpeg";
              link.href = dataUrl;
              link.click();
            })
            .catch((err) => console.log(err));
        }}
      >
        Download
      </Button>
    </Stack>
  );
}

const Logo = (props) => (
  <svg
    width="85"
    height="85"
    viewBox="0 0 85 85"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
    {...props}
  >
    <path
      d="M29.7964 14.7823C30.3771 16.093 30.4669 17.2805 30.0657 18.3445C29.6709 19.3922 28.8295 20.2014 27.5415 20.772C26.3561 21.2972 25.3262 21.4195 24.4519 21.1388C23.5725 20.8466 22.9156 20.2104 22.4813 19.2302C22.3248 18.8769 22.2118 18.5451 22.1426 18.2349L23.7425 17.1374C23.8888 17.5907 23.9948 17.8915 24.0605 18.0396C24.3635 18.7235 24.7396 19.1568 25.1887 19.3396C25.6379 19.5224 26.1873 19.4699 26.837 19.182C27.669 18.8133 28.1525 18.3196 28.2874 17.7008C28.4172 17.0706 28.2599 16.2539 27.8155 15.2509L24.7399 8.30958L26.5692 7.49902L29.7964 14.7823Z"
      fill="white"
    />
    <path
      d="M38.604 5.88724C38.18 5.8941 37.8482 5.7935 37.6078 5.58545C37.3674 5.36493 37.244 5.05522 37.2376 4.65633C37.2311 4.25745 37.3443 3.95015 37.5779 3.73439C37.8111 3.51866 38.1399 3.40734 38.5636 3.40048C38.9875 3.3936 39.3133 3.49428 39.5411 3.70257C39.7814 3.91061 39.9049 4.2141 39.9113 4.61298C39.9178 5.01187 39.8042 5.32539 39.571 5.55363C39.3503 5.76915 39.0277 5.88037 38.604 5.88724ZM39.7719 16.7905L37.7714 16.823L37.6197 7.47422L39.6203 7.44175L39.7719 16.7905Z"
      fill="white"
    />
    <path
      d="M60.5699 12.1533C61.1201 12.4467 61.5641 12.8321 61.9031 13.3096C62.2475 13.7761 62.4342 14.3136 62.4627 14.9223C62.4909 15.531 62.3264 16.1708 61.9684 16.8417L59.1164 22.1872L57.3508 21.2454L60.0535 16.1803C60.3996 15.5314 60.5009 14.9707 60.3571 14.4984C60.2136 14.0262 59.8835 13.6521 59.3663 13.3763C58.7615 13.0535 58.1325 13.0006 57.48 13.2176C56.8381 13.4404 56.3118 13.9368 55.9011 14.7067L53.5068 19.1943L51.7415 18.2525L54.4438 13.1874C54.7903 12.5384 54.8913 11.9778 54.7478 11.5055C54.604 11.0332 54.2738 10.6592 53.7567 10.3834C53.4048 10.1956 53.0141 10.1071 52.5844 10.1181C52.1604 10.118 51.7412 10.2547 51.327 10.5282C50.9126 10.8016 50.5498 11.2299 50.2387 11.8128L47.8975 16.2014L46.1318 15.2595L50.5331 7.01025L52.1005 7.84648L51.4525 9.2599C51.9975 8.90065 52.5738 8.72073 53.1817 8.72008C53.7958 8.70845 54.383 8.85227 54.944 9.15157C55.56 9.48018 56.0391 9.91953 56.3815 10.4696C56.7405 11.0145 56.8976 11.621 56.852 12.2891C57.3923 11.8851 57.9944 11.6835 58.6581 11.6844C59.3388 11.6801 59.976 11.8364 60.5699 12.1533Z"
      fill="white"
    />
    <path
      d="M76.94 33.8069C77.1004 34.5374 77.011 35.1762 76.6717 35.723C76.3324 36.27 75.8159 36.6195 75.122 36.7722C74.4155 36.9276 73.7939 36.828 73.2564 36.474C72.7192 36.1197 72.37 35.5774 72.2095 34.8468C72.0514 34.1284 72.1409 33.4897 72.4775 32.9307C72.8168 32.3838 73.3394 32.0328 74.0459 31.8775C74.7398 31.7249 75.3556 31.8257 75.8928 32.1799C76.433 32.5462 76.7819 33.0885 76.94 33.8069Z"
      fill="white"
    />
    <path
      d="M71.0082 59.7112L72.4348 57.4716L68.2712 54.8192L69.3361 53.1475L79.7455 59.7781L77.0429 64.021C76.3261 65.1461 75.4816 65.857 74.5092 66.1538C73.547 66.4574 72.5773 66.298 71.5995 65.6751C70.8528 65.1994 70.351 64.6065 70.0943 63.8959C69.841 63.2026 69.8338 62.4366 70.0722 61.5982L63.9209 61.6485L65.1565 59.7084L71.0082 59.7112ZM73.8387 58.3658L72.2914 60.7947C71.8562 61.4781 71.6678 62.0752 71.727 62.5859C71.7967 63.103 72.1203 63.546 72.6987 63.9142C73.277 64.2828 73.8101 64.3858 74.2977 64.2233C74.7961 64.0676 75.2626 63.6484 75.6982 62.9646L77.2452 60.536L73.8387 58.3658Z"
      fill="white"
    />
    <path
      d="M54.4126 70.7594C54.1712 70.8896 53.9801 71.0209 53.839 71.1535L53.3154 69.9063C53.5405 69.615 53.8452 69.3658 54.2294 69.1587C54.7013 68.904 55.13 68.7932 55.5159 68.8258C55.8909 68.8646 56.2405 69.0798 56.5648 69.4711C56.6104 68.9513 56.8205 68.4481 57.1962 67.9626C57.5773 67.4876 58.0754 67.0847 58.6898 66.7535C59.4909 66.3214 60.2388 66.1589 60.9338 66.2656C61.6288 66.3727 62.1626 66.7716 62.5355 67.4631C62.8844 68.1105 62.9085 68.7986 62.6076 69.5273C62.3125 70.2671 61.6832 71.0175 60.7193 71.7777L58.8241 73.2669L59.0638 73.7113C59.3358 74.2162 59.6969 74.5314 60.1471 74.6568C60.603 74.7935 61.0946 74.7197 61.6213 74.4358C62.7076 73.85 63.1492 72.9745 62.9459 71.8093L64.7024 71.7971C64.8598 72.5617 64.7404 73.2992 64.344 74.0084C63.9367 74.7241 63.2887 75.3212 62.3996 75.8006C61.3354 76.3745 60.3572 76.5833 59.4653 76.4265C58.5739 76.2701 57.8704 75.7146 57.3556 74.7599L55.35 71.0399C55.2375 70.8315 55.111 70.7016 54.9699 70.6499C54.8179 70.6047 54.6319 70.6411 54.4126 70.7594ZM59.0301 68.2907C58.4375 68.6103 57.9935 69.0339 57.6974 69.5619C57.4012 70.0896 57.3805 70.5897 57.6348 71.0613L58.1672 72.049L59.7663 70.7196C60.2776 70.3021 60.6173 69.9206 60.7852 69.5752C60.9529 69.2297 60.9481 68.8925 60.7706 68.5633C60.605 68.256 60.3735 68.0765 60.0763 68.0241C59.7737 67.9887 59.4252 68.0778 59.0301 68.2907Z"
      fill="white"
    />
    <path
      d="M44.159 81.7255C42.8748 81.7227 41.866 81.2906 41.1323 80.4287C40.3983 79.5794 40.0331 78.3945 40.0362 76.8737C40.0396 75.3525 40.4098 74.1564 41.1469 73.2853C41.8844 72.4268 42.8952 71.9987 44.1791 72.0015C44.8523 72.0028 45.4568 72.1538 45.9919 72.454C46.5152 72.7542 46.9195 73.1666 47.2051 73.6906L47.2163 68.2676L49.2172 68.272L49.1896 81.5487L47.4318 81.5453L47.3417 79.8058C47.0663 80.3913 46.6539 80.8578 46.1048 81.2059C45.5431 81.5538 44.8944 81.7268 44.159 81.7255ZM44.6245 73.6294C43.8142 73.6277 43.1842 73.9068 42.7341 74.4668C42.2717 75.0394 42.0394 75.8367 42.0371 76.859C42.035 77.8811 42.2642 78.6794 42.7242 79.254C43.1716 79.8283 43.8006 80.1166 44.6112 80.1183C45.3714 80.1196 45.9828 79.8653 46.4452 79.3553C46.895 78.845 47.1459 78.1351 47.1976 77.2249L47.1993 76.5143C47.151 75.6167 46.9031 74.9119 46.4557 74.3998C45.9953 73.8878 45.385 73.6307 44.6245 73.6294Z"
      fill="white"
    />
    <path
      d="M28.6907 69.4872C29.0698 69.3978 29.4879 69.3835 29.9451 69.4447C30.3856 69.5113 30.8289 69.6562 31.275 69.8789C32.0445 70.2634 32.5688 70.7622 32.8479 71.3752C33.1102 71.994 33.0436 72.7131 32.6481 73.5329L30.275 78.284L31.8643 79.0779L31.1624 80.4831L29.5731 79.6892L28.5955 81.6466L26.5548 81.2546L27.7831 78.7954L24.8555 77.333L25.5574 75.9278L28.485 77.3902L30.7076 72.9399C30.9081 72.5387 30.9526 72.1844 30.841 71.8781C30.7126 71.5769 30.4588 71.3317 30.0796 71.1423C29.5666 70.886 29.0258 70.8391 28.4572 71.0009L28.6907 69.4872Z"
      fill="white"
    />
    <path
      d="M15.5969 72.8188C15.8846 73.1303 16.031 73.4448 16.0361 73.7627C16.0322 74.0887 15.8837 74.3873 15.5907 74.6582C15.2978 74.9289 14.9931 75.0492 14.6767 75.0193C14.3603 74.9891 14.0582 74.8184 13.7705 74.5073C13.4828 74.1958 13.3406 73.8861 13.3439 73.5774C13.3387 73.2595 13.4826 72.9654 13.7756 72.6944C14.0685 72.4238 14.3778 72.299 14.7034 72.3207C15.0113 72.3415 15.3092 72.5077 15.5969 72.8188ZM22.9436 64.6782L24.3018 66.1477L17.4358 72.4941L16.0776 71.025L22.9436 64.6782Z"
      fill="white"
    />
    <path
      d="M17.2245 56.8054C17.5536 57.6939 17.694 58.5391 17.6456 59.3415C17.5928 60.1323 17.3217 60.8178 16.832 61.3978L15.2771 60.5383C15.6974 60.13 15.9379 59.6485 15.9985 59.0943C16.0591 58.5401 15.9681 57.9356 15.7255 57.2811C15.5047 56.6847 15.2401 56.2577 14.9318 55.9996C14.6118 55.746 14.2939 55.6777 13.9783 55.7946C13.6977 55.8983 13.5319 56.1326 13.4809 56.4974C13.4181 56.8663 13.4494 57.4528 13.5746 58.2572C13.8098 59.6458 13.8203 60.6791 13.606 61.3567C13.3918 62.0343 12.9106 62.5117 12.1624 62.7888C11.6831 62.9666 11.1847 62.9849 10.6673 62.8442C10.1382 62.7078 9.64908 62.4103 9.20005 61.952C8.73496 61.4862 8.36167 60.8732 8.08015 60.1133C7.72071 59.1433 7.59633 58.3052 7.70711 57.5993C7.80622 56.8979 8.13629 56.2638 8.69739 55.697L10.1731 56.6657C9.73667 57.0669 9.47303 57.5035 9.38215 57.9761C9.27525 58.4408 9.3301 58.9658 9.54664 59.5503C9.74153 60.0762 10.015 60.4734 10.367 60.742C10.7031 61.0031 11.0114 61.0816 11.2919 60.9776C11.6076 60.8606 11.8026 60.6155 11.877 60.2422C11.9471 59.8573 11.9066 59.2276 11.7554 58.3531C11.5184 57.0315 11.5092 56.0377 11.7278 55.372C11.9464 54.7059 12.424 54.2364 13.1604 53.9637C13.9437 53.6734 14.7064 53.7764 15.4486 54.2728C16.1908 54.7688 16.7827 55.6131 17.2245 56.8054Z"
      fill="white"
    />
    <path
      d="M7.19817 33.3782C7.48292 32.6865 7.92057 32.2129 8.51115 31.9571C9.10176 31.7014 9.72559 31.7088 10.3827 31.9793C11.0514 32.2545 11.5054 32.6909 11.7448 33.2882C11.9842 33.8856 11.9616 34.5301 11.6769 35.222C11.3969 35.902 10.9593 36.3756 10.3639 36.6428C9.77333 36.8985 9.14372 36.889 8.47508 36.6136C7.81796 36.3433 7.3697 35.9091 7.13024 35.3117C6.89557 34.7031 6.91822 34.0585 7.19817 33.3782Z"
      fill="white"
    />
  </svg>
);

const profileImage =
  "https://raptis.wtf/static/9faaf82b641aae29c4b17252b7672a2b/58d6d/portrait.jpg";
